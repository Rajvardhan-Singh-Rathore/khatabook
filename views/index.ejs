<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Khatabook - Home</title>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet"/>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div class="main flex flex-col text-white gap-4 w-full h-screen bg-zinc-800 p-16">
        <!-- Header -->
        <div class="container font-semibold flex justify-between bg-neutral-700 p-3 rounded-md">
            <h3>Khatabook</h3>
            <span class="flex gap-4">
                <a class="tracking-tight" href="/">Home</a>
                <a class="tracking-tight" href="/files/create">Add new transaction</a>
            </span>
        </div>

        <!-- Page Title -->
        <h3 class="tracking-tight mt-8 text-lg font-semibold">All Your Recent Transactions</h3>

        <!-- Transaction List -->
        <% if (records.length > 0) { %>
            <% records.forEach(record => { %>
                <div class="card w-96 p-4 bg-blue-500 flex justify-between rounded-md items-center mt-3">
                    <!-- Date + Arrow Icon -->
                    <span class="flex items-center gap-2">
                        <h3 class="font-semibold"><%= record.date %></h3>
                        <a href="/files/<%= record._id %>" title="View Record" class="text-white hover:text-blue-200">
                            <i class="ri-arrow-right-circle-fill text-xl"></i>
                        </a>
                    </span>

                    <!-- Edit & Delete Icons -->
                    <span class="flex gap-3">
                        <a href="/files/<%= record._id %>/edit" title="Edit" class="hover:text-gray-200"><i class="ri-pencil-fill text-lg"></i></a>
                        <a href="/files/<%= record._id %>/delete" title="Delete" class="hover:text-gray-200"><i class="ri-delete-bin-fill text-lg"></i></a>
                    </span>
                </div>
            <% }) %>
        <% } else { %>
            <h3 class="text-center text-zinc-700 mt-4">No transactions yet.</h3>
        <% } %>
    </div>
</body>
</html>
